// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like@v0.1.0-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/proxy-ctor@v0.1.1-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-arraylike2object@v0.1.0-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-complex-floating-point-data-type@v0.1.0-esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.1.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.1.0-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.1.1-esm/index.mjs";import{isPrimitive as d}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.1.1-esm/index.mjs";import{isPrimitive as l}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.1.0-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex-like@v0.1.1-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-real-floating-point-data-type@v0.1.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-unsigned-integer-data-type@v0.1.0-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-signed-integer-data-type@v0.1.0-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-safe-data-type-cast@v0.1.0-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-min-dtype@v0.1.0-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-min-signed-integer-dtype@v0.1.0-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-dtype@v0.1.1-esm/index.mjs";import{isPrimitive as j}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.1.1-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-property@v0.1.1-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-normalize-index@v0.1.0-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.1.1-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-fancy-slice@v0.2.0-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-replace@v0.1.1-esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-trim@v0.1.1-esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-seq2slice@v0.1.0-esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-str2slice@v0.1.0-esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-starts-with@v0.1.1-esm/index.mjs";import D from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.1.0-esm/index.mjs";import I from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-fancy-slice-assign@v0.1.0-esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/array-from-scalar@v0.1.0-esm/index.mjs";function _(t){return i(t)?[t,0]:t}function N(t){return n(t)?_:null}function V(t,e){return function(r){return t(r,e)}}var U="function"==typeof e;function C(t,e){return a(e)?o(e,"strict")&&(t.strict=e.strict,!d(t.strict))?new TypeError(s("invalid option. `%s` option must be a boolean. Option: `%s`.","strict",t.strict)):null:new TypeError(s("invalid argument. Options argument must be an object. Value: `%s`.",e))}function L(){return null}function O(t,e){return i(t)?null:c(t)?new TypeError(s("invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].",h(t),e)):new TypeError(s("invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].",typeof t,e))}function P(t,e){return i(t)||c(t)?null:new TypeError(s("invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].",typeof t,e))}function F(t,e){var r;return i(t)?l(t)?(r=y(t),v(r,e)?null:new TypeError(s("invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].",r,e))):new TypeError(s("invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].",f(t),e)):c(t)?new TypeError(s("invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].",h(t),e)):new TypeError(s("invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].",typeof t,e))}function G(t,e){var r;return i(t)?(r=f(t),v(r,e)?null:new TypeError(s("invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].",r,e))):c(t)?new TypeError(s("invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].",h(t),e)):new TypeError(s("invalid operation. Assigned value cannot be safely cast to the target array data type. Data types: [%s, %s].",typeof t,e))}function q(t){return"generic"===t||""===t?L:p(t)?O:m(t)?G:u(t)?F:P}function z(t,e){return function(r,s){var n,i;switch((i=s).length){case 0:n=new r;break;case 1:n=new r(i[0]);break;case 2:n=new r(i[0],i[1]);break;case 3:n=new r(i[0],i[1],i[2]);break;case 4:n=new r(i[0],i[1],i[2],i[3]);break;case 5:n=new r(i[0],i[1],i[2],i[3],i[4]);break;case 6:n=new r(i[0],i[1],i[2],i[3],i[4],i[5]);break;case 7:n=new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6]);break;case 8:n=new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);break;case 9:n=new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8]);break;case 10:n=new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9]);break;default:n=r.apply(null,i)}return t(n,e)}}var B=/^-?[0-9]+$/;function M(t){return j(t)&&B.test(t)}function Q(t,e,r){var n,i;if(n=parseInt(t,10),-1===(i=b(n,e-1))){if(r)throw new RangeError(s("invalid operation. Slice exceeds array bounds."));return n}return i}function W(t){return E(t,/^invalid argument/,"invalid operation")}var $=/:/;function H(t,e,r){var n=A(e);return function(t){return"S"===t[0]&&T(t,"Slice(",0)&&")"===t[t.length-1]}(n)?function(t,e){var r=k(e);if(null===r)throw new Error(s("invalid operation. Unsupported slice operation. Value: `%s`.",t));return r}(e,n):function(t){return $.test(t)}(n)?function(t,e,r,n){var i=S(e,r,!0);if(i.code){if("ERR_SLICE_INVALID_INCREMENT"===i.code)throw new Error(s("invalid operation. A subsequence increment must be a non-zero integer. Value: `%s`.",t));if("ERR_SLICE_INVALID_SUBSEQUENCE"===i.code)throw new Error(s("invalid operation. Unsupported slice operation. Value: `%s`.",t));if("ERR_SLICE_OUT_OF_BOUNDS"===i.code){if(n)throw new RangeError(s("invalid operation. Slice exceeds array bounds."));i=S(e,r,!1)}}return i}(e,n,t.length,r):null}function J(t){return function(e,r,s){if(M(r))return function(t,e,r){return r.getter(t,Q(e,t.length,r.strict))}(e,r,t);if(g(e,r)||!j(r))return function(t,e,r,s){var n=t[e];return w(n)?n===t.constructor?s.ctor:function(){var e,s;for(e=[],s=0;s<arguments.length;s++)e.push(arguments[s]);return n.apply(this===r?t:this,e)}:n}(e,r,s,t);return function(t,e,r,s){var n=H(t,e,s.strict);if(null!==n)try{return s.postGetSlice(x(t,n,s.strict))}catch(t){throw new t.constructor(W(t.message))}}(e,r,0,t)}}function K(t,e,r){return t[e]=r,!0}function X(t){return function(e,r,s,n){var i;if(M(r))return function(t,e,r,s){var n,i;if(n=s.validator(r,s.dtype))throw n;return i=s.preSetElement?s.preSetElement(r):r,s.setter(t,Q(e,t.length,s.strict),i),!0}(e,r,s,t);if(g(r)||!j(r))return K(e,r,s);if(i=function(t,e,r,s,n){var i,a,o;if(null===(a=H(t,e,n.strict)))return!1;if(D(r))o=r;else{if(i=n.validator(r,n.dtype))throw i;o=R(r,n.dtype)}try{return I(o,s,a,n.strict),!0}catch(i){throw new i.constructor(W(i.message))}}(e,r,s,n,t),i)return i;return K(e,r,s)}}function Y(n){var i,a,o,d,l;if(!t(n))throw new TypeError(s("invalid argument. First argument must be array-like. Value: `%s`.",n));if(U){if(i={strict:!1},arguments.length>1&&(a=C(i,arguments[1])))throw a;return l={ref:n,dtype:d=(o=r(n)).dtype||"",getter:o.accessors[0],setter:o.accessors[1],preSetElement:N(d),postGetSlice:V(Y,i),strict:i.strict,validator:q(d),array2fancy:Y,ctor:new e(n.constructor||Array,{construct:z(Y,i)})},new e(n,{get:J(l),set:X(l)})}return console.warn("WARNING: Proxy objects are not supported in the current environment. Some `FancyArray` functionality may not be available."),n}export{Y as default};
//# sourceMappingURL=index.mjs.map
